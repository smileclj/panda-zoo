<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1041px" preserveAspectRatio="none" style="width:2112px;height:1041px;" version="1.1" viewBox="0 0 2112 1041" width="2112px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a199zzulzvnr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="994" y="23.5352">解析自定义标签流程</text><rect fill="#FFFFFF" filter="url(#f1a199zzulzvnr)" height="101.9316" style="stroke: #000000; stroke-width: 2.0;" width="293" x="389" y="209.9082"/><rect fill="#FFFFFF" filter="url(#f1a199zzulzvnr)" height="101.9316" style="stroke: #000000; stroke-width: 2.0;" width="377.5" x="547" y="355.1504"/><rect fill="#FFFFFF" filter="url(#f1a199zzulzvnr)" height="174.8633" style="stroke: #000000; stroke-width: 2.0;" width="539" x="1562" y="809.1875"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="286" x2="286" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="495" x2="495" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="743" x2="743" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1006" x2="1006" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1255" x2="1255" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1478" x2="1478" y1="68.9766" y2="1001.0508"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1713" x2="1713" y1="68.9766" y2="1001.0508"/><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="183" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="190" y="54.0234">XmlWebApplicaitonContext</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="183" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="188" x="190" y="1020.5859">XmlWebApplicaitonContext</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="399" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="406" y="54.0234">XmlBeanDefinitionReader</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="188" x="399" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="406" y="1020.5859">XmlBeanDefinitionReader</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="601" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="267" x="608" y="54.0234">DefaultBeanDefinitionDocumentReader</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="281" x="601" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="267" x="608" y="1020.5859">DefaultBeanDefinitionDocumentReader</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="896" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="203" x="903" y="54.0234">BeanDefinitionParserDelegate</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="217" x="896" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="203" x="903" y="1020.5859">BeanDefinitionParserDelegate</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="1127" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="239" x="1134" y="54.0234">DefaultNamespaceHandlerResolver</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="253" x="1127" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="239" x="1134" y="1020.5859">DefaultNamespaceHandlerResolver</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1394" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="1401" y="54.0234">TxNamespaceHandler</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1394" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="1401" y="1020.5859">TxNamespaceHandler</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="1572" y="33.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="264" x="1579" y="54.0234">AnnotationDrivenBeanDefinitionParser</text><rect fill="#FEFECE" filter="url(#f1a199zzulzvnr)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="278" x="1572" y="1000.0508"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="264" x="1579" y="1020.5859">AnnotationDrivenBeanDefinitionParser</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="328" y1="100.2871" y2="100.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="328" y1="100.2871" y2="113.2871"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287" x2="328" y1="113.2871" y2="113.2871"/><polygon fill="#A80036" points="297,109.2871,287,113.2871,297,117.2871,293,113.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="293" y="95.5449">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="306" y="95.5449">refreshBeanFactory()</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="8,85.4766,8,110.4766,277,110.4766,277,95.4766,267,85.4766,8,85.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267" x2="267" y1="85.4766" y2="95.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277" x2="267" y1="95.4766" y2="95.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="14" y="103.0449">AbstractRefreshableApplicationContext</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="328" y1="142.5977" y2="142.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="328" x2="328" y1="142.5977" y2="155.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="287" x2="328" y1="155.5977" y2="155.5977"/><polygon fill="#A80036" points="297,151.5977,287,155.5977,297,159.5977,293,155.5977" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="293" y="137.8555">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="306" y="137.8555">loadBeanDefinitions()</text><polygon fill="#A80036" points="483,185.5977,493,189.5977,483,193.5977,487,189.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="286" x2="489" y1="189.5977" y2="189.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="293" y="185.166">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="306" y="185.166">loadBeanDefinitions(String)</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="69,168.5977,69,193.5977,277,193.5977,277,178.5977,267,168.5977,69,168.5977" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="267" x2="267" y1="168.5977" y2="178.5977"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="277" x2="267" y1="178.5977" y2="178.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="75" y="186.166">AbstractBeanDefinitionReader</text><rect fill="none" height="101.9316" style="stroke: #000000; stroke-width: 2.0;" width="293" x="389" y="209.9082"/><polygon fill="#EEEEEE" points="389,209.9082,600,209.9082,600,216.9082,590,226.9082,389,226.9082,389,209.9082" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="404" y="223.4766">doLoadBeanDefinitions()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="495" x2="537" y1="248.5293" y2="248.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="537" y1="248.5293" y2="261.5293"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="537" y1="261.5293" y2="261.5293"/><polygon fill="#A80036" points="506,257.5293,496,261.5293,506,265.5293,502,261.5293" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="502" y="243.7871">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="515" y="243.7871">doLoadDocument()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="495" x2="537" y1="290.8398" y2="290.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="537" x2="537" y1="290.8398" y2="303.8398"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="496" x2="537" y1="303.8398" y2="303.8398"/><polygon fill="#A80036" points="506,299.8398,496,303.8398,506,307.8398,502,303.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="502" y="286.0977">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="515" y="286.0977">registerBeanDefinitions()</text><polygon fill="#A80036" points="731.5,335.8398,741.5,339.8398,731.5,343.8398,735.5,339.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="495" x2="737.5" y1="339.8398" y2="339.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="502" y="335.4082">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="515" y="335.4082">registerBeanDefinitions()</text><rect fill="none" height="101.9316" style="stroke: #000000; stroke-width: 2.0;" width="377.5" x="547" y="355.1504"/><polygon fill="#EEEEEE" points="547,355.1504,771,355.1504,771,362.1504,761,372.1504,547,372.1504,547,355.1504" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="562" y="368.7188">doRegisterBeanDefinitions</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.5" x2="785.5" y1="393.7715" y2="393.7715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.5" x2="785.5" y1="393.7715" y2="406.7715"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="744.5" x2="785.5" y1="406.7715" y2="406.7715"/><polygon fill="#A80036" points="754.5,402.7715,744.5,406.7715,754.5,410.7715,750.5,406.7715" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="389.0293">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="763.5" y="389.0293">parseBeanDefinitions()</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="557,378.9609,557,403.9609,734,403.9609,734,388.9609,724,378.9609,557,378.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="724" x2="724" y1="378.9609" y2="388.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="734" x2="724" y1="388.9609" y2="388.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="563" y="396.5293">解析普通元素或自定义元素</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.5" x2="785.5" y1="436.082" y2="436.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="785.5" x2="785.5" y1="436.082" y2="449.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="744.5" x2="785.5" y1="449.082" y2="449.082"/><polygon fill="#A80036" points="754.5,445.082,744.5,449.082,754.5,453.082,750.5,449.082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="431.3398">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="763.5" y="431.3398">processBeanDefinition()</text><polygon fill="#A80036" points="994.5,481.082,1004.5,485.082,994.5,489.082,998.5,485.082" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="743.5" x2="1000.5" y1="485.082" y2="485.082"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="750.5" y="480.6504">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="763.5" y="480.6504">parseBeanDefinitionElement()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1006.5" x2="1048.5" y1="520.8584" y2="520.8584"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1048.5" x2="1048.5" y1="520.8584" y2="533.8584"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1007.5" x2="1048.5" y1="533.8584" y2="533.8584"/><polygon fill="#A80036" points="1017.5,529.8584,1007.5,533.8584,1017.5,537.8584,1013.5,533.8584" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1013.5" y="516.1162">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="1035.5" y="516.1162">parseCustomElement</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="751,498.3926,751,538.3926,997,538.3926,997,508.3926,987,498.3926,751,498.3926" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="987" x2="987" y1="498.3926" y2="508.3926"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="987" y1="508.3926" y2="508.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="757" y="515.9609">通过不同的NamespaceHandler来解析</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="757" y="531.2715">此处以spring事务为例</text><polygon fill="#A80036" points="1243.5,565.0137,1253.5,569.0137,1243.5,573.0137,1247.5,569.0137" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1006.5" x2="1249.5" y1="569.0137" y2="569.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1013.5" y="564.582">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="1035.5" y="564.582">resolve()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1255.5" x2="1297.5" y1="598.6348" y2="598.6348"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1297.5" x2="1297.5" y1="598.6348" y2="611.6348"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1256.5" x2="1297.5" y1="611.6348" y2="611.6348"/><polygon fill="#A80036" points="1266.5,607.6348,1256.5,611.6348,1266.5,615.6348,1262.5,611.6348" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1262.5" y="593.8926">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="152" x="1284.5" y="593.8926">namespaceHandler.init()</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="1088,583.8242,1088,608.8242,1246,608.8242,1246,593.8242,1236,583.8242,1088,583.8242" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1236" x2="1236" y1="583.8242" y2="593.8242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1246" x2="1236" y1="593.8242" y2="593.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="1094" y="601.3926">TxNamespaceHandler</text><polygon fill="#A80036" points="1017.5,636.6348,1007.5,640.6348,1017.5,644.6348,1013.5,640.6348" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1011.5" x2="1254.5" y1="640.6348" y2="640.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1023.5" y="636.2031">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="1045.5" y="636.2031">return NamespaceHandler</text><polygon fill="#A80036" points="1466,670.9453,1476,674.9453,1466,678.9453,1470,674.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1006.5" x2="1472" y1="674.9453" y2="674.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1013.5" y="670.5137">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="1035.5" y="670.5137">parse()</text><polygon fill="#FBFB77" filter="url(#f1a199zzulzvnr)" points="806,653.9453,806,678.9453,997,678.9453,997,663.9453,987,653.9453,806,653.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="987" x2="987" y1="653.9453" y2="663.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="997" x2="987" y1="663.9453" y2="663.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="812" y="671.5137">NamespaceHandlerSupport</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1478" x2="1520" y1="709.5664" y2="709.5664"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1520" x2="1520" y1="709.5664" y2="722.5664"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1479" x2="1520" y1="722.5664" y2="722.5664"/><polygon fill="#A80036" points="1489,718.5664,1479,722.5664,1489,726.5664,1485,722.5664" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1485" y="704.8242">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="1507" y="704.8242">findParserForElement()</text><polygon fill="#A80036" points="1701,747.5664,1711,751.5664,1701,755.5664,1705,751.5664" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1478" x2="1707" y1="751.5664" y2="751.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1485" y="747.1348">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="1507" y="747.1348">parse()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1713" x2="1755" y1="781.1875" y2="781.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1755" x2="1755" y1="781.1875" y2="794.1875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1714" x2="1755" y1="794.1875" y2="794.1875"/><polygon fill="#A80036" points="1724,790.1875,1714,794.1875,1724,798.1875,1720,794.1875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1720" y="776.4453">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="297" x="1742" y="776.4453">register InfrastructureAdvisorAutoProxyCreator</text><rect fill="none" height="174.8633" style="stroke: #000000; stroke-width: 2.0;" width="539" x="1562" y="809.1875"/><polygon fill="#EEEEEE" points="1562,809.1875,1872,809.1875,1872,846.1875,1862,856.1875,1562,856.1875,1562,809.1875" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="265" x="1577" y="822.7559">AnnotationDrivenBeanDefinitionParser.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="1577" y="838.0664">AopAutoProxyConfigurer.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="1577" y="853.377">configureAutoProxyCreator</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1713" x2="1755" y1="878.4297" y2="878.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1755" x2="1755" y1="878.4297" y2="891.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1714" x2="1755" y1="891.4297" y2="891.4297"/><polygon fill="#A80036" points="1724,887.4297,1714,891.4297,1724,895.4297,1720,891.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1720" y="873.6875">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="294" x="1742" y="873.6875">register AnnotationTransactionAttributeSource</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1713" x2="1755" y1="920.7402" y2="920.7402"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1755" x2="1755" y1="920.7402" y2="933.7402"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1714" x2="1755" y1="933.7402" y2="933.7402"/><polygon fill="#A80036" points="1724,929.7402,1714,933.7402,1724,937.7402,1720,933.7402" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1720" y="915.998">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="1742" y="915.998">register TransactionInterceptor</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1713" x2="1755" y1="963.0508" y2="963.0508"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1755" x2="1755" y1="963.0508" y2="976.0508"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1714" x2="1755" y1="976.0508" y2="976.0508"/><polygon fill="#A80036" points="1724,972.0508,1714,976.0508,1724,980.0508,1720,976.0508" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1720" y="958.3086">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="347" x="1742" y="958.3086">register BeanFactoryTransactionAttributeSourceAdvisor</text><!--
@startuml
title 解析自定义标签流程
autonumber 1 1
XmlWebApplicaitonContext -> XmlWebApplicaitonContext:refreshBeanFactory()
note left:AbstractRefreshableApplicationContext
XmlWebApplicaitonContext -> XmlWebApplicaitonContext:loadBeanDefinitions()
XmlWebApplicaitonContext -> XmlBeanDefinitionReader:loadBeanDefinitions(String)
note left:AbstractBeanDefinitionReader
group doLoadBeanDefinitions()
XmlBeanDefinitionReader -> XmlBeanDefinitionReader:doLoadDocument()
XmlBeanDefinitionReader -> XmlBeanDefinitionReader:registerBeanDefinitions()
end
XmlBeanDefinitionReader -> DefaultBeanDefinitionDocumentReader:registerBeanDefinitions()
group doRegisterBeanDefinitions
DefaultBeanDefinitionDocumentReader -> DefaultBeanDefinitionDocumentReader:parseBeanDefinitions()
note left:解析普通元素或自定义元素
DefaultBeanDefinitionDocumentReader -> DefaultBeanDefinitionDocumentReader:processBeanDefinition()
end
DefaultBeanDefinitionDocumentReader -> BeanDefinitionParserDelegate:parseBeanDefinitionElement()
BeanDefinitionParserDelegate -> BeanDefinitionParserDelegate:parseCustomElement
note left:通过不同的NamespaceHandler来解析\n此处以spring事务为例
BeanDefinitionParserDelegate -> DefaultNamespaceHandlerResolver:resolve()
DefaultNamespaceHandlerResolver -> DefaultNamespaceHandlerResolver:namespaceHandler.init()
note left:TxNamespaceHandler
DefaultNamespaceHandlerResolver -> BeanDefinitionParserDelegate:return NamespaceHandler
BeanDefinitionParserDelegate -> TxNamespaceHandler:parse()
note left:NamespaceHandlerSupport
TxNamespaceHandler -> TxNamespaceHandler:findParserForElement()
TxNamespaceHandler -> AnnotationDrivenBeanDefinitionParser:parse()
AnnotationDrivenBeanDefinitionParser -> AnnotationDrivenBeanDefinitionParser:register InfrastructureAdvisorAutoProxyCreator

group AnnotationDrivenBeanDefinitionParser.\nAopAutoProxyConfigurer.\nconfigureAutoProxyCreator
AnnotationDrivenBeanDefinitionParser -> AnnotationDrivenBeanDefinitionParser:register AnnotationTransactionAttributeSource
AnnotationDrivenBeanDefinitionParser -> AnnotationDrivenBeanDefinitionParser:register TransactionInterceptor
AnnotationDrivenBeanDefinitionParser -> AnnotationDrivenBeanDefinitionParser:register BeanFactoryTransactionAttributeSourceAdvisor
end
@enduml

PlantUML version 1.2017.15(Tue Jul 04 00:45:34 CST 2017)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_112-release-408-b2
Operating System: Mac OS X
OS Version: 10.13.6
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>